<div class="grid">
  <nb-card>
    <nb-card-header>Alerts</nb-card-header>
    <nb-card-body class="stack">
      <nb-alert *ngFor="let a of (alerts$ | async)" [status]="a.status">{{ a.text }}</nb-alert>
    </nb-card-body>
  </nb-card>

  <nb-card>
    <nb-card-header>Badges & Tips</nb-card-header>
    <nb-card-body class="stack">
      <div class="badges">
        <span *ngFor="let b of (badges$ | async)"
              class="badge {{b.cls}}"
              [nbTooltip]="b.tip">
          {{ b.name }} <span class="count" *ngIf="b.val!==null">{{ b.val }}</span>
        </span>
      </div>
      <small>Hover badges to see tooltips.</small>
    </nb-card-body>
  </nb-card>

  <nb-card>
    <nb-card-header>Progress</nb-card-header>
    <nb-card-body>
      <div class="row">
        <span>Processing</span>
        <nb-progress-bar
          [value]="(maintProgress$ | async) ?? percent"
          [status]="((maintProgress$ | async) ?? percent) < 70 ? 'primary' : (((maintProgress$ | async) ?? percent) < 100 ? 'warning' : 'success')">
        </nb-progress-bar>
        <span>{{ (maintProgress$ | async) ?? percent }}%</span>
      </div>

      <button nbButton status="primary"
              (click)="simulate()"
              [disabled]="loading || (maintProgress$ | async) !== null">
        {{ (maintProgress$ | async) !== null ? 'Maintenance in progress' : (loading ? 'Runningâ€¦' : 'Simulate') }}
      </button>
    </nb-card-body>
  </nb-card>

  <nb-card>
    <nb-card-header>Toggles</nb-card-header>
    <nb-card-body class="toggles">
      <label class="line">
        <nb-toggle [checked]="live" (checkedChange)="toggleLive($event)"></nb-toggle>
        <span>Live updates</span>
      </label>
      <label class="line">
        <nb-toggle [checked]="notify" (checkedChange)="toggleNotify($event)"></nb-toggle>
        <span>Notifications</span>
      </label>
    </nb-card-body>
  </nb-card>
</div>