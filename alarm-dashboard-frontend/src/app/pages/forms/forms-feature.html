<nb-card>
  <nb-card-header>
    <div class="title">
      <nb-icon icon="edit-2-outline"></nb-icon>
      Alarm Filter
    </div>
  </nb-card-header>

  <nb-card-body>
    <form [formGroup]="form" (ngSubmit)="submit()" class="grid">

      <div class="field">
        <label>Device</label>
        <input nbInput placeholder="e.g. Tunnel-3" formControlName="device" />
        <small class="err"
          *ngIf="f.device.touched && f.device.errors?.['maxlength']">
          Max 40 characters.
        </small>
      </div>

      <div class="field">
        <label>Severity</label>
        <nb-select formControlName="severity" placeholder="Any">
          <nb-option value="">Any</nb-option>
          <nb-option *ngFor="let s of severities" [value]="s">{{ s }}</nb-option>
        </nb-select>
      </div>

      <div class="field">
        <label>From</label>
        <input nbInput type="date" formControlName="from" />
      </div>

      <div class="field">
        <label>To</label>
        <input nbInput type="date" formControlName="to" />
      </div>

      <div class="switches">
        <label class="switch">
          <nb-toggle formControlName="live"></nb-toggle>
          <span>Live stream</span>
        </label>
        <label class="switch">
          <nb-checkbox formControlName="ackOnly"></nb-checkbox>
          <span>Show only acknowledged</span>
        </label>
      </div>

      <div class="actions">
        <button nbButton status="primary" type="submit">Apply Filter</button>
        <button nbButton status="basic" type="button" (click)="form.reset({ live: true, ackOnly: false })">
          Reset
        </button>
      </div>
    </form>
  </nb-card-body>
</nb-card>

<nb-card *ngIf="lastSubmitted">
  <nb-card-header>Current Filter</nb-card-header>
  <nb-card-body class="preview">
    <div><b>Device:</b> {{ lastSubmitted.device }}</div>
    <div><b>Severity:</b> {{ lastSubmitted.severity }}</div>
    <div><b>Date Range:</b> {{ lastSubmitted.from }} â†’ {{ lastSubmitted.to }}</div>
    <div><b>Live:</b> {{ lastSubmitted.live ? 'On' : 'Off' }}</div>
    <div><b>Ack Only:</b> {{ lastSubmitted.ackOnly ? 'Yes' : 'No' }}</div>
  </nb-card-body>
</nb-card>